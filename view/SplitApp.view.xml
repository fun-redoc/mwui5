<mvc:View
  controllerName="rsh.view.SplitApp"
	xmlns="sap.m"
	xmlns:core="sap.ui.core"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:l="sap.ui.layout"
	xmlns:f="sap.ui.layout.form"
	displayBlock="true">
	<SplitApp id="app" initialDetail="idInitial" initialMaster="idMaster" orientationChange="onOrientationChange">
		<masterPages>
			<Page id="idMaster" title="{i18n>masterPage}">
				<List mode="SingleSelectMaster" select=".itemSelected" items="{path: 'persons>/EmployeeCollection'}">
  				<headerToolbar>
            <Toolbar>
              <Title text = "{i18n>personListTitle}"/>
              <ToolbarSpacer />
              <SearchField width="50%" search="onFilterPersions" />
            </Toolbar>
          </headerToolbar>
          <items>
            <StandardListItem title       = "{persons>sortableName}"
                              description = "{path: 'persons>mobileWork/status', formatter: '.formatter.statusText'}" 
                              type = "Navigation"/>
          </items>
				</List>
			</Page>
		</masterPages>
			<detailPages>
  			<Page id="idInitial" title="{i18n>initialPageTitle}" />
  			<Page id="idDetail" title="{i18n>detailPageTitle}" >
  			  <footer>
      			<Bar>
      				<contentRight>
      					<Button id="idNew"    text="{i18n>newButtonText}"    visible="false" press="onNewPress" />
      					<Button id="idSave"   text="{i18n>saveButtonText}"   visible="false"  press="onSavePress" type="Emphasized"/>
      					<Button id="idExtend" text="{i18n>extendButtonText}" visible="false"  press="onExtendPress" />
      					<Button id="idCancel" text="{i18n>cancelButtonText}" visible="false"  press="onCancelPress" />
      				</contentRight>
      			</Bar>
      		</footer>
  			  <content>
  			  	<f:Form 
			  visible="true"
				minWidth="1024"
				maxContainerCols="2"
				editable="true">
				<f:title>
					<core:Title text="{i18n>requestMobileWork}" />
				</f:title>
				<f:layout>
					<f:ResponsiveGridLayout
						labelSpanL="3"
						labelSpanM="3"
						emptySpanL="4"
						emptySpanM="4"
						columnsL="1"
						columnsM="1" />
				</f:layout>
				<f:formContainers>
                   <core:Fragment fragmentName="rsh.view.Person" type="XML" />
                   <core:Fragment fragmentName="rsh.view.Request" type="XML"/>
                   <core:Fragment fragmentName="rsh.view.RequestOptions" type="XML" />
                </f:formContainers>
  			  </f:Form>
  			  </content>
        </Page>
		</detailPages>
	</SplitApp>

</mvc:View>